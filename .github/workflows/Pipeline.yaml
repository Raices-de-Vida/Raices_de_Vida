name: Minor Workflow

# Este workflow se ejecuta manualmente y con cada push
on:
  push:
    branches: [ main, develop, test-* ]
  workflow_dispatch:  # Permite ejecutarlo manualmente desde GitHub
    inputs:
      test_level:
        description: 'Nivel de prueba'
        required: true
        default: 'basic'
        type: choice
        options:
          - basic
          - backend
          - frontend
          - full

jobs:
  test-basic:
    name: Minor Workflow Job
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout código
      uses: actions/checkout@v4

    - name: Mostrar información
      run: |
        echo "Probando GitHub Actions!"
        echo "Repositorio: ${{ github.repository }}"
        echo "Branch: ${{ github.ref_name }}"
        echo "Autor: ${{ github.actor }}"
        echo "Commit: ${{ github.sha }}"
        echo "Evento: ${{ github.event_name }}"
        echo "Nivel: ${{ inputs.test_level || 'auto' }}"

    - name: Listar archivos del proyecto
      run: |
        echo "Estructura del proyecto:"
        ls -la
        echo ""
        echo "Carpetas principales:"
        ls -d */ 2>/dev/null || echo "No hay carpetas"
